(this.webpackJsonpreact_boilerplate=this.webpackJsonpreact_boilerplate||[]).push([[0],{19:function(e,t,n){},30:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(4),s=n(6),o=n(1),i=n(31),u=n.n(i),l=n(7),p=n(3),j=n(12),h=n.n(j);function d(e){localStorage.setItem("token",JSON.stringify(e))}function b(){return JSON.parse(localStorage.getItem("token"))}function f(e){localStorage.setItem("user",JSON.stringify(e))}var O="https://strangers-things.herokuapp.com/api/2106-UNF-RM-WEB-PT";function x(){return v.apply(this,arguments)}function v(){return(v=Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("".concat(O,"/posts"));case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function m(e,t){return g.apply(this,arguments)}function g(){return(g=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(O,"/users/register"),{user:{username:t,password:n}});case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function w(e,t){return k.apply(this,arguments)}function k(){return(k=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(O,"/users/login"),{user:{username:t,password:n}});case 3:return r=e.sent,a=r.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function N(){return y.apply(this,arguments)}function y(){return(y=Object(a.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b(),e.prev=1,e.next=4,h.a.get("".concat(O,"/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 4:return n=e.sent,r=n.data,e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(1),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function S(e,t,n,r,c){return I.apply(this,arguments)}function I(){return(I=Object(a.a)(c.a.mark((function e(t,n,r,a,s){var o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("".concat(O,"/posts"),{post:{title:t,description:n,price:r}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)}});case 3:return o=e.sent,i=o.data,e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function C(e){return P.apply(this,arguments)}function P(){return(P=Object(a.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b(),e.prev=1,e.next=4,h.a.delete("".concat(O,"/posts/").concat(t._id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:return r=e.sent,a=r.data,e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:return e.prev=12,location.reload(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))).apply(this,arguments)}function T(e,t){return U.apply(this,arguments)}function U(){return(U=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b(),e.prev=1,e.next=4,h.a.post("".concat(O,"/posts/").concat(t,"/messages"),{message:{content:n}},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 4:a=e.sent,a.data,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var E=n(0),_=(n(19),function(e){var t=e.allPosts,n=e.filterPosts,r=e.currentUser;return Object(E.jsx)("div",{children:n&&n.length?n.map((function(e){return Object(E.jsxs)(l.b,{to:"/posts/".concat(e._id),children:[Object(E.jsx)(z,{post:e,currentUser:r}),";"]},e._id)})):t&&t.length?t.map((function(e){return Object(E.jsxs)(l.b,{to:"/posts/".concat(e._id),children:[Object(E.jsx)(z,{post:e,currentUser:r}),";"]},e._id)})):null})}),D=(n(30),function(e){var t=e.setIsloggedIn,n=Object(o.useState)(""),r=Object(s.a)(n,2),i=r[0],u=r[1],l=Object(o.useState)(""),p=Object(s.a)(l,2),j=p[0],h=p[1];return Object(E.jsx)("div",{className:"auth-component-main-container",children:Object(E.jsxs)("form",{id:"Login",onSubmit:function(){var e=Object(a.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,w(i,j);case 4:return r=e.sent,d(r.data.token),f(i),t(!0),u(""),h(""),e.t0=console,e.next=14,N();case 14:e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.next=21;break;case 18:e.prev=18,e.t2=e.catch(1),console.error(e.t2);case 21:return e.prev=21,location.reload(),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,18,21,24]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(E.jsxs)("fieldset",{className:"auth-component-input",children:[Object(E.jsx)("label",{htmlFor:"userName",children:"User Name"}),Object(E.jsx)("input",{id:"userName",type:"text",placeholder:"enter username",value:i,onChange:function(e){u(e.target.value)}})]}),Object(E.jsxs)("fieldset",{className:"auth-component-input",children:[Object(E.jsx)("label",{htmlFor:"password",children:"Password"}),Object(E.jsx)("input",{id:"password",type:"password",placeholder:"enter password",value:j,onChange:function(e){h(e.target.value)}})]}),Object(E.jsx)("button",{className:"btn",children:"Login"})]})})}),B=function(e){var t=e.setIsloggedIn,n=Object(o.useState)(""),r=Object(s.a)(n,2),i=r[0],u=r[1],l=Object(o.useState)(""),p=Object(s.a)(l,2),j=p[0],h=p[1];return Object(E.jsx)("div",{className:"auth-component-main-container",children:Object(E.jsxs)("form",{id:"register",onSubmit:function(){var e=Object(a.a)(c.a.mark((function e(n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,m(i,j);case 4:r=e.sent,a=r.data,console.log(a.token),d(a.token),f(i),t(!0),u(""),h(""),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(E.jsxs)("fieldset",{className:"auth-component-input",children:[Object(E.jsx)("label",{htmlFor:"userName",children:"User Name"}),Object(E.jsx)("input",{id:"userName",type:"text",placeholder:"enter username",value:i,onChange:function(e){u(e.target.value)}})]}),Object(E.jsxs)("fieldset",{className:"auth-component-input",children:[Object(E.jsx)("label",{htmlFor:"password",children:"Password"}),Object(E.jsx)("input",{id:"password",type:"password",placeholder:"enter password",value:j,onChange:function(e){h(e.target.value)}})]}),Object(E.jsx)("button",{children:"Register"})]})})},F=(n(64),function(e){var t=e.isLoggedIn,n=e.setIsloggedIn;return Object(E.jsxs)("div",{className:"nav",children:[Object(E.jsx)("div",{children:Object(E.jsx)(l.b,{className:"nav-bar-link",to:"/posts",children:"POSTS"})}),t?Object(E.jsxs)("div",{children:[Object(E.jsx)(l.b,{className:"nav-bar-link",to:"/profile",children:"ACCOUNT"}),Object(E.jsx)(l.b,{className:"nav-bar-link",to:"/",onClick:function(){localStorage.clear(),n(!1)},children:"LOGOUT"})]}):Object(E.jsxs)("div",{children:[Object(E.jsx)(l.b,{className:"nav-bar-link",to:"/login",children:"LOGIN"}),Object(E.jsx)(l.b,{className:"nav-bar-link",to:"/register",children:"REGISTER"})]})]})}),A=n(15),L=(n(65),function(){var e=Object(A.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(A.useState)(""),i=Object(s.a)(o,2),u=i[0],l=i[1],p=Object(A.useState)(""),j=Object(s.a)(p,2),h=j[0],d=j[1];return Object(E.jsxs)("div",{className:"new-post-component-main-container",children:[Object(E.jsx)("h1",{className:"hello",children:"Welcome to making a post."}),Object(E.jsxs)("form",{id:"newPostSubmit",onSubmit:function(){var e=Object(a.a)(c.a.mark((function e(t){var r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,r=b(),a=JSON.parse(localStorage.getItem("user")),e.next=6,S(n,u,h,a,r);case 6:s=e.sent,console.log(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(E.jsx)("h2",{className:"hello",children:"Create Post Below."}),Object(E.jsxs)("fieldset",{className:"auth-component-input",children:[Object(E.jsx)("label",{htmlFor:"title",children:"Title:"}),Object(E.jsx)("input",{id:"title",type:"text",placeholder:"enter title",value:n,onChange:function(e){r(e.target.value)}})]}),Object(E.jsxs)("fieldset",{className:"auth-component-input",children:[Object(E.jsx)("label",{htmlFor:"description",children:"Description:"}),Object(E.jsx)("input",{id:"description",type:"text",placeholder:"enter description",value:u,onChange:function(e){l(e.target.value)}})]}),Object(E.jsxs)("fieldset",{className:"auth-component-input",children:[Object(E.jsx)("label",{htmlFor:"price",children:"Price:"}),Object(E.jsx)("input",{id:"price",type:"text",placeholder:"enter price",value:h,onChange:function(e){d(e.target.value)}})]}),Object(E.jsx)("button",{type:"submit",children:"Submit"})]}),Object(E.jsx)("button",{children:Object(E.jsx)("a",{href:"#",children:"Back to top"})})]})}),J=function(){return Object(E.jsx)("div",{id:"title"})},z=function(e){var t=e.post,n=e.currentUser,r=t.messages,c=t._id;return console.log(n),Object(E.jsxs)("div",{className:"card",children:[Object(E.jsxs)("h3",{className:"title",children:[' Title: "',t.title,'"']})," ",Object(E.jsxs)("h4",{className:"description",children:[" ",t.description]})," ",Object(E.jsx)("h3",{className:"price",children:t.price}),t.author.username===n.username?Object(E.jsx)(W,{post:t}):Object(E.jsx)(M,{messageArr:r,id:c}),t.author.username===n.username?Object(E.jsx)("p",{children:"hello"}):null]})},R=function(e){var t=e.searchTerm,n=e.setSearchTerm;return Object(E.jsx)("div",{children:Object(E.jsx)("form",{children:Object(E.jsxs)("fieldset",{children:[Object(E.jsx)("label",{id:"filter",children:"Search"}),Object(E.jsx)("input",{id:"filterInput",type:"text",placeholder:"search",value:t,onChange:function(e){n(e.target.value),console.log(t)}})]})})})},G=function(e){e.SetCurrentUser;var t=e.currentUser,n=e.allPosts;e.filterPosts;return console.log(t),Object(E.jsxs)("div",{children:[Object(E.jsxs)("h1",{className:"hello",children:["Welcome, ",t.username,"!"]}),Object(E.jsxs)("h2",{className:"hello",children:[" Your user ID is ",t._id]}),n.map((function(e){if(e.author.username===t.username)return console.log(e),Object(E.jsx)("div",{children:Object(E.jsx)(z,{post:e,currentUser:t})},e._id)}))]})},W=function(e){var t=e.post;return Object(E.jsx)("button",{onClick:function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,C(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),children:"Delete Post"})},M=function(e){var t=e.id,n=Object(o.useState)(""),r=Object(s.a)(n,2),i=r[0],u=r[1];return Object(E.jsxs)("form",{onSubmit:function(){var e=Object(a.a)(c.a.mark((function e(n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.preventDefault(),e.next=4,T(t,i);case 4:r=e.sent,console.log(r),console.log("clicked"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,location.reload(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(E.jsx)("fieldset",{children:Object(E.jsx)("input",{type:"text",value:i,onChange:function(e){u(e.target.value)}})}),Object(E.jsx)("button",{type:"submit",children:"Message"})]})},Y=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(o.useState)(!1),u=Object(s.a)(i,2),j=u[0],h=u[1],d=Object(o.useState)(""),f=Object(s.a)(d,2),O=f[0],v=f[1],m=Object(o.useState)([]),g=Object(s.a)(m,2),w=g[0],k=g[1],y=Object(o.useState)({}),S=Object(s.a)(y,2),I=S[0],C=S[1];return Object(o.useEffect)(Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b(),e.next=3,x();case 3:n=e.sent,t&&h(!0),r(n.data.posts);case 6:case"end":return e.stop()}}),e)}))),[]),Object(o.useEffect)(Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,C(t.data);case 4:case"end":return e.stop()}}),e)}))),[]),Object(o.useEffect)(Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.filter((function(e){return!!e.title.includes(O)||!!e.description.includes(O)}));case 2:t=e.sent,k(t);case 4:case"end":return e.stop()}}),e)}))),[O]),Object(E.jsx)("div",{id:"App",children:Object(E.jsxs)(l.a,{children:[Object(E.jsx)(F,{isLoggedIn:j,setIsloggedIn:h}),Object(E.jsx)(J,{}),Object(E.jsxs)(p.c,{children:[Object(E.jsx)(p.a,{path:"/register",children:Object(E.jsx)(B,{setIsloggedIn:h})}),Object(E.jsx)(p.a,{path:"/login",children:Object(E.jsx)(D,{setIsloggedIn:h})}),Object(E.jsx)(p.a,{path:"/profile",children:Object(E.jsx)(G,{SetCurrentUser:C,currentUser:I,allPosts:n,filterPosts:w})}),Object(E.jsx)(p.a,{path:"/posts",children:Object(E.jsxs)("div",{children:[Object(E.jsx)(R,{searchTerm:O,setSearchTerm:v}),Object(E.jsxs)("div",{children:[Object(E.jsx)(_,{allPosts:n,filterPosts:w,currentUser:I}),Object(E.jsx)(L,{})]})]})})]})]})})};u.a.render(Object(E.jsx)(Y,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.bb4ef3c8.chunk.js.map